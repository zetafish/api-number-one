{"schemes":["https"],"definitions":{},"produces":["application/json"],"paths":{"/auth/user-token":{"post":{"tags":["auth"],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"auth-token":{"type":"string"},"refresh-token":{"type":"string"}},"required":["auth-token","refresh-token"]},"description":""}},"parameters":[{"in":"body","name":"","description":"","required":true,"schema":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"agency-id":{"type":"integer","format":"int64"}},"required":["email","password"]}}]}},"/auth/refresh-user-token":{"post":{"tags":["auth"],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"auth-token":{"type":"string"}},"required":["auth-token"]},"description":""}},"parameters":[{"in":"body","name":"","description":"","required":true,"schema":{"type":"object","properties":{"refresh-token":{"type":"string"}},"required":["refresh-token"]}}]}},"/auth/unsign":{"post":{"tags":["auth"],"responses":{"default":{"description":""}},"parameters":[{"in":"body","name":"","description":"","required":true,"schema":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]}}]}},"/auth/switch-agency":{"post":{"tags":["auth"],"responses":{"default":{"description":""}},"parameters":[{"in":"body","name":"","description":"","required":true,"schema":{"type":"object","properties":{"agency-id":{"type":"integer","format":"int64"}},"required":["agency-id"]}},{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]}]}},"/auth/change-password":{"post":{"tags":["auth"],"responses":{"default":{"description":""}},"parameters":[{"in":"body","name":"","description":"","required":true,"schema":{"type":"object","properties":{"new-password":{"type":"string"},"old-password":{"type":"string"}},"required":["new-password","old-password"]}},{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]}]}},"/auth/preview-token":{"post":{"tags":["auth"],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"preview-token":{"type":"string"}},"required":["preview-token"]},"description":""}},"parameters":[{"in":"body","name":"","description":"","required":true,"schema":{"type":"object","properties":{"advertiser-id":{"type":"integer","format":"int64","minimum":1}},"required":["advertiser-id"]}},{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]}]}},"/product-stores/{advertiser-id}":{"get":{"tags":["product-store"],"summary":"Retrieve a store.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"}],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"advertiser-id":{"type":"integer","format":"int64"},"created-at":{"type":"string","format":"date-time"},"updated-at":{"type":"string","format":"date-time"},"available-slots":{"type":"object","properties":{"keyword":{"type":"array","items":{"type":"integer","format":"int64"}},"text":{"type":"array","items":{"type":"integer","format":"int64"}},"blob":{"type":"array","items":{"type":"integer","format":"int64"}},"url":{"type":"array","items":{"type":"integer","format":"int64"}},"image-url":{"type":"array","items":{"type":"integer","format":"int64"}},"boolean":{"type":"array","items":{"type":"integer","format":"int64"}},"number":{"type":"array","items":{"type":"integer","format":"int64"}},"date-time":{"type":"array","items":{"type":"integer","format":"int64"}}},"required":["keyword","text","blob","url","image-url","boolean","number","date-time"],"title":"slot/available-slots"},"fields":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string","x-allOf":[{"type":"string"},{}]},"type":{"enum":["boolean","url","blob","text","keyword","number","date-time","image-url"],"type":"string"},"slot":{"type":"integer","format":"int64"}},"required":["id","name","type","slot"],"title":"field/field"},"x-allOf":[{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string","x-allOf":[{"type":"string"},{}]},"type":{"enum":["boolean","url","blob","text","keyword","number","date-time","image-url"],"type":"string"},"slot":{"type":"integer","format":"int64"}},"required":["id","name","type","slot"],"title":"field/field"}},{},{},{}]}},"required":["advertiser-id","created-at","updated-at","available-slots","fields"],"title":"store/store"},"description":""}}}},"/product-stores/{advertiser-id}/fields":{"post":{"tags":["product-store"],"summary":"Add a field.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"body","name":"","description":"","required":true,"schema":{"type":"object","properties":{"name":{"type":"string","x-allOf":[{"type":"string"},{}]},"type":{"enum":["boolean","url","blob","text","keyword","number","date-time","image-url"],"type":"string"}},"required":["name","type"]}}],"responses":{"default":{"description":""}}}},"/product-stores/{advertiser-id}/fields/{field-id}":{"patch":{"tags":["product-store"],"summary":"Update a field.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"field-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"body","name":"","description":"","required":true,"schema":{"type":"object","properties":{"name":{"type":"string","x-allOf":[{"type":"string"},{}]}}}}],"responses":{"default":{"description":""}}},"delete":{"tags":["product-store"],"summary":"Delete a field.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"field-id","description":"","type":"integer","required":true,"format":"int64"}],"responses":{"default":{"description":""}}}},"/product-stores":{"post":{"tags":["product-store"],"summary":"Create a store.","responses":{"default":{"description":""}},"parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"body","name":"store/create","description":"","required":true,"schema":{"type":"object","properties":{"advertiser-id":{"type":"integer","format":"int64"}},"required":["advertiser-id"],"title":"store/create"}}]}},"/product-stores/{advertiser-id}/fields/{field-id}/index":{"get":{"tags":["product-store"],"summary":"Retrieve the index of the field in the filed list.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"field-id","description":"","type":"integer","required":true,"format":"int64"}],"responses":{"default":{"description":""},"200":{"schema":{"type":"integer","format":"int64","title":"field/index"},"description":""}}},"put":{"tags":["product-store"],"summary":"Updates the index of the field in the filed list.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"field-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"body","name":"field/index","description":"","required":true,"schema":{"type":"integer","format":"int64","title":"field/index"}}],"responses":{"default":{"description":""}}}},"/product-stores/{advertiser-id}/selectors":{"post":{"tags":["product-selector"],"summary":"Create new selector.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"body","name":"lemonpi.specs.product-selector/create-body","description":"","required":true,"schema":{"type":"object","properties":{"name":{"type":"string"},"query":{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"],"x-allOf":[{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"]},{}]},"priority":{"type":"array","items":{}},"exclude":{"type":"array","items":{},"x-allOf":[{"type":"array","items":{}},{},{}]},"match":{"type":"array","items":{}}},"required":["name","query"],"x-allOf":[{"type":"object","properties":{"name":{"type":"string"},"query":{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"],"x-allOf":[{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"]},{}]},"priority":{"type":"array","items":{}},"exclude":{"type":"array","items":{},"x-allOf":[{"type":"array","items":{}},{},{}]},"match":{"type":"array","items":{}}},"required":["name","query"]},{}],"title":"lemonpi.specs.product-selector/create-body"}}],"responses":{"default":{"description":""}}},"get":{"tags":["product-selector"],"summary":"Retrieve selectors for the advertiser.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"query","name":"limit","description":"","type":"integer","required":false,"format":"int64"}],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"meta":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"limit":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"}},"required":["offset","limit","total"],"title":"lemonpi.specs.product-selector/meta"},"items":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"query":{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"],"x-allOf":[{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"]},{}]},"updated-at":{"type":"string"},"valid":{"type":"boolean"},"id":{"type":"string"},"priority":{"type":"array","items":{}},"exclude":{"type":"array","items":{},"x-allOf":[{"type":"array","items":{}},{},{}]},"match":{"type":"array","items":{}}},"required":["name","query","updated-at","valid","id"],"x-allOf":[{"type":"object","properties":{"name":{"type":"string"},"query":{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"],"x-allOf":[{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"]},{}]},"updated-at":{"type":"string"},"valid":{"type":"boolean"},"id":{"type":"string"},"priority":{"type":"array","items":{}},"exclude":{"type":"array","items":{},"x-allOf":[{"type":"array","items":{}},{},{}]},"match":{"type":"array","items":{}}},"required":["name","query","updated-at","valid","id"]}]}}},"required":["meta","items"],"title":"lemonpi.specs.product-selector/result-many"},"description":""}}}},"/product-stores/{advertiser-id}/selectors/{id}":{"get":{"tags":["product-selector"],"summary":"Retrieve selector.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"id","description":"","type":"string","required":true}],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"name":{"type":"string"},"query":{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"],"x-allOf":[{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"]},{}]},"updated-at":{"type":"string"},"valid":{"type":"boolean"},"id":{"type":"string"},"priority":{"type":"array","items":{}},"exclude":{"type":"array","items":{},"x-allOf":[{"type":"array","items":{}},{},{}]},"match":{"type":"array","items":{}}},"required":["name","query","updated-at","valid","id"],"x-allOf":[{"type":"object","properties":{"name":{"type":"string"},"query":{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"],"x-allOf":[{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"]},{}]},"updated-at":{"type":"string"},"valid":{"type":"boolean"},"id":{"type":"string"},"priority":{"type":"array","items":{}},"exclude":{"type":"array","items":{},"x-allOf":[{"type":"array","items":{}},{},{}]},"match":{"type":"array","items":{}}},"required":["name","query","updated-at","valid","id"]}],"title":"lemonpi.specs.product-selector/result-one"},"description":""}}},"delete":{"tags":["product-selector"],"summary":"Delete selector.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"id","description":"","type":"string","required":true}],"responses":{"default":{"description":""}}},"patch":{"tags":["product-selector"],"summary":"Update selector.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"id","description":"","type":"string","required":true},{"in":"body","name":"lemonpi.specs.product-selector/patch-body","description":"","required":true,"schema":{"type":"object","properties":{"name":{"type":"string"},"query":{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"],"x-allOf":[{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"]},{}]},"priority":{"type":"array","items":{}},"exclude":{"type":"array","items":{},"x-allOf":[{"type":"array","items":{}},{},{}]},"match":{"type":"array","items":{}}},"x-allOf":[{"type":"object","properties":{"name":{"type":"string"},"query":{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"],"x-allOf":[{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"]},{}]},"priority":{"type":"array","items":{}},"exclude":{"type":"array","items":{},"x-allOf":[{"type":"array","items":{}},{},{}]},"match":{"type":"array","items":{}}}},{}],"title":"lemonpi.specs.product-selector/patch-body"}}],"responses":{"default":{"description":""}}}},"/product-stores/{advertiser-id}/selectors/{id}/result":{"get":{"tags":["product-selector"],"summary":"Get the result of the selector.","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"id","description":"","type":"string","required":true}],"responses":{"default":{"description":""}}}},"/product-stores/{advertiser-id}/products":{"post":{"tags":["product"],"summary":"Upsert a product to a store","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"query","name":"create","description":"","type":"boolean","required":false}],"responses":{"default":{"description":""}}},"delete":{"tags":["product"],"summary":"Delete all products in a store","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"}],"responses":{"default":{"description":""}}}},"/products/{product-id}":{"get":{"tags":["product"],"summary":"Retrieve a product","parameters":[{"in":"path","name":"product-id","description":"","required":true,"type":"string"},{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]}],"responses":{"default":{"description":""}}},"delete":{"tags":["product"],"summary":"Delete a product","parameters":[{"in":"path","name":"product-id","description":"","required":true,"type":"string"},{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]}],"responses":{"default":{"description":""}}}},"/product-stores/{advertiser-id}/products/search":{"post":{"tags":["product"],"summary":"Search for products in a store","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"body","name":"lemonpi.specs.product-query/query-with-string","description":"","required":true,"schema":{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"],"x-allOf":[{"type":"object","properties":{"version":{"enum":[1],"type":"string"},"required-fields":{"type":"array","items":{"type":"integer","format":"int64","x-anyOf":[{"type":"integer","format":"int64"},{"type":"string","x-allOf":[{"type":"string"},{}]}]}},"filter":{"type":"array","items":{}},"sort":{"type":"array","items":{}},"limit":{"type":"integer","format":"int64","minimum":0,"x-allOf":[{"type":"integer","format":"int64","minimum":0},{}]},"offset":{"type":"integer","format":"int64","minimum":0}},"required":["version"]},{}],"title":"lemonpi.specs.product-query/query-with-string"}}],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"meta":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"limit":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"}},"required":["offset","limit","total"],"title":"product-search/meta"},"items":{"type":"array","items":{"type":"object"}}},"required":["meta","items"],"title":"product-search/result"},"description":""}}}},"/advertisers/{advertiser-id}/pixels":{"get":{"tags":["pixel"],"summary":"Retrieve all pixels","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"}],"responses":{"default":{"description":""},"200":{"schema":{"type":"array","items":{"type":"object","properties":{"author":{"type":"integer","format":"int64"},"name":{"type":"string","x-allOf":[{"type":"string"},{},{}]},"updated-at":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"}},"required":["author","name","updated-at","id"],"title":"pixel/meta"},"title":"pixel/pixels"},"description":""}}},"post":{"tags":["pixel"],"summary":"Create a pixel","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"body","name":"pixel/def","description":"","required":true,"schema":{"type":"object","properties":{"name":{"type":"string","x-allOf":[{"type":"string"},{},{}]},"script":{"type":"string"}},"required":["name","script"],"title":"pixel/def"}}],"responses":{"default":{"description":""},"200":{"schema":{"type":"integer","format":"int64","title":"pixel/id"},"description":""}}}},"/advertisers/{advertiser-id}/pixels/{pixel-id}":{"get":{"tags":["pixel"],"summary":"Retrieve a pixel","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"pixel-id","description":"","type":"integer","required":true,"format":"int64"}],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"author":{"type":"integer","format":"int64"},"name":{"type":"string","x-allOf":[{"type":"string"},{},{}]},"updated-at":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"}},"required":["author","name","updated-at","id"],"title":"pixel/meta"},"description":""}}},"put":{"tags":["pixel"],"summary":"Modify a pixel","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"pixel-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"body","name":"pixel/def","description":"","required":true,"schema":{"type":"object","properties":{"name":{"type":"string","x-allOf":[{"type":"string"},{},{}]},"script":{"type":"string"}},"required":["name","script"],"title":"pixel/def"}}],"responses":{"default":{"description":""}}},"delete":{"tags":["pixel"],"summary":"Modify a pixel","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"pixel-id","description":"","type":"integer","required":true,"format":"int64"}],"responses":{"default":{"description":""}}}},"/advertisers/{advertiser-id}/pixels/{pixel-id}/script":{"get":{"tags":["pixel"],"summary":"Retrieve the script from s3","parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"path","name":"advertiser-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"pixel-id","description":"","type":"integer","required":true,"format":"int64"}],"responses":{"default":{"description":""}}}},"/adsets/{adset-id}/builds/{build-id}":{"get":{"tags":["adset-build"],"summary":"Get a build for an adset","parameters":[{"in":"path","name":"adset-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"build-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]}],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"build-id":{"type":"integer","format":"int64"},"adset-id":{"type":"integer","format":"int64"},"content-function-id":{"type":"integer","format":"int64"},"type":{},"parameters":{"type":"object"},"summary":{"type":"object","properties":{"pending-count":{"type":"integer","format":"int64"},"succeeded-count":{"type":"integer","format":"int64"},"failed-count":{"type":"integer","format":"int64"},"canceled-count":{"type":"integer","format":"int64"}},"required":["pending-count","succeeded-count","failed-count","canceled-count"],"title":"build/summary"}},"required":["build-id","adset-id","content-function-id","type","parameters","summary"],"title":"lemonpi.adset-build-api.web.server/get-build-result"},"description":""}}}},"/adsets/{adset-id}/builds/{build-id}/cancel":{"post":{"tags":["adset-build"],"summary":"Cancel a build","parameters":[{"in":"path","name":"adset-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"build-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]}],"responses":{"default":{"description":""}}}},"/adsets/{adset-id}/builds/{build-id}/variants/artifacts":{"post":{"tags":["adset-build"],"summary":"Gets artifacts for specified variants","parameters":[{"in":"path","name":"adset-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"build-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]},{"in":"body","name":"","description":"","required":true,"schema":{"type":"array","items":{"type":"string","format":"uuid"}}}],"responses":{"default":{"description":""}}}},"/adsets/{adset-id}/builds/{build-id}/variants":{"get":{"tags":["adset-build"],"summary":"Get all variants of a build","parameters":[{"in":"path","name":"adset-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"build-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]}],"responses":{"default":{"description":""},"200":{"schema":{"type":"array","items":{"type":"object","properties":{"build-id":{"type":"integer","format":"int64"},"correlation-id":{"type":"string","format":"uuid"},"meta":{},"job-input":{},"job-result":{},"state":{"enum":["failed","succeeded","pending","canceled"],"type":"string"}},"required":["build-id","correlation-id","meta","job-input","job-result","state"],"title":"build/variant"},"title":"lemonpi.adset-build-api.web.server/get-build-variants"},"description":""}}}},"/adsets/{adset-id}/builds":{"get":{"tags":["adset-build"],"summary":"List all builds for an adset","parameters":[{"in":"path","name":"adset-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]}],"responses":{"default":{"description":""},"200":{"schema":{"type":"array","items":{"type":"object","properties":{"build-id":{"type":"integer","format":"int64"},"adset-id":{"type":"integer","format":"int64"},"content-function-id":{"type":"integer","format":"int64"},"type":{},"parameters":{"type":"object"},"summary":{"type":"object","properties":{"pending-count":{"type":"integer","format":"int64"},"succeeded-count":{"type":"integer","format":"int64"},"failed-count":{"type":"integer","format":"int64"},"canceled-count":{"type":"integer","format":"int64"}},"required":["pending-count","succeeded-count","failed-count","canceled-count"],"title":"build/summary"}},"required":["build-id","adset-id","content-function-id","type","parameters","summary"],"title":"lemonpi.adset-build-api.web.server/get-build-result"},"title":"lemonpi.adset-build-api.web.server/get-builds-result"},"description":""}}},"post":{"tags":["adset-build"],"summary":"Create a build for an adset","parameters":[{"in":"path","name":"adset-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]},{"in":"body","name":"lemonpi.adset-build-api.web.server/create-build-descriptor","description":"","required":true,"schema":{"type":"object","properties":{"type":{},"variants":{"type":"array","items":{"type":"object","properties":{"context":{"type":"object"},"template-revision-id":{"type":"integer","format":"int64"},"parameters":{"type":"object"}},"required":["context"],"title":"variant/entity"}},"parameters":{"type":"object"}},"required":["type","variants"],"title":"lemonpi.adset-build-api.web.server/create-build-descriptor"}}],"responses":{"default":{"description":""},"200":{"schema":{"type":"object","properties":{"build-id":{"type":"integer","format":"int64"}},"required":["build-id"],"title":"lemonpi.adset-build-api.web.server/create-build-result"},"description":""}}}},"/adsets/{adset-id}/builds/{build-id}/variants/{correlation-id}/artifact":{"get":{"tags":["adset-build"],"summary":"Gets variant artifact","parameters":[{"in":"path","name":"adset-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"build-id","description":"","type":"integer","required":true,"format":"int64"},{"in":"path","name":"correlation-id","description":"","type":"string","required":true,"format":"uuid"},{"in":"header","name":"authorization","description":"","type":"string","required":true,"x-allOf":[{"type":"string"},{}]}],"responses":{"default":{"description":""}}}},"/assets":{"post":{"tags":["assets"],"responses":{"default":{"description":""}}}},"/usages":{"get":{"responses":{"default":{"description":""}},"parameters":[{"in":"header","name":"authorization","description":"","type":"string","required":false,"x-allOf":[{"type":"string"},{}]},{"in":"query","name":"from","description":"","type":null,"required":true},{"in":"query","name":"to","description":"","type":null,"required":true},{"in":"query","name":"advertiser-id","description":"","type":"integer","required":false,"format":"int64"}]}}},"consumes":["application/json"],"host":"api-test.lemonpi.io","info":{"title":"LemonPI Swagger API","version":"0.0.1"},"swagger":"2.0","basePath":"/"}